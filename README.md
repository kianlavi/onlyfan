# OnlyFan

A static fan page that looks like OnlyFans. Hosted on GitHub Pages, no backend required.

**Live:** [kianlavi.github.io/onlyfan](https://kianlavi.github.io/onlyfan/)

## How It Works

The public page (`index.html`) fetches `profile.json` and `posts.json` at load time and renders everything client-side. Posts support images, likes, tips, comments, and locked/PPV content.

The admin page (`admin.html`) lets you manage posts and profile directly from the browser. It commits changes back to the repo via the GitHub API — no server needed.

## Admin Setup

1. Go to `/admin.html`
2. First-time setup requires:
   - A [GitHub Personal Access Token](https://github.com/settings/tokens/new?scopes=repo&description=OnlyFan+Admin) with **repo** scope
   - A shared password (used to encrypt the token and gate future access)
3. The token is encrypted (AES-256-GCM) and stored as `admin-config.enc.json` in the repo
4. After setup, anyone with the password can log in and publish

## Files

| File | What it does |
|------|-------------|
| `index.html` | Public fan page |
| `app.js` | Loads profile + posts, renders the feed |
| `style.css` | All styling |
| `admin.html` | Admin panel UI |
| `admin.js` | Admin logic — auth, CRUD, GitHub API calls |
| `profile.json` | Name, handle, bio, avatar, banner, stats |
| `posts.json` | Array of posts (text, image, likes, tips, locked, etc.) |
| `admin-config.enc.json` | Encrypted GitHub token + repo info (generated by admin setup) |
| `CLAUDE.md` | Agent operating protocol |

## Stack

Vanilla HTML/CSS/JS. No dependencies, no build step. Just push and GitHub Pages serves it.
